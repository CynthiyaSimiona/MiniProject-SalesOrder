<!DOCTYPE html>
<html>
<h2>INSERT ORDER</h2>
<style>
button{

padding:1px;
}

input{
color:black;}
</style>
<body>


<br>
<br>
<div>
ORDER ID :   <input type="text" id="orderid"><br>
<br>
CUSTOMER ID: <input type="text" id="cid"><br>
<br>
PRODUCT CODE:<input type="text" id="pcode"><br>
<br>
QUANTITY:    <input type="text" id="quantity"><br>
<br>
TOTALPRICE:  <input type="text" id="totalprice"><br>
<br>
<button id="insert">INSERT</button><br>

</div>

<div id="insertresponse"></div>

<script>

document.getElementById("insert").onclick = function () {

	debugger;
	var orderid=document.getElementById("orderid").value;
	var cid=document.getElementById("cid").value;
	var pcode=document.getElementById("pcode").value;
	var quantity=document.getElementById("quantity").value;
	var tprice=document.getElementById("totalprice").value;
	
	 
	
	
	var xmlhttp = new XMLHttpRequest();
  	 
   	xmlhttp.onreadystatechange = function()
   	{
   	    if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
   	    {
   	        //Use parse() method to convert JSON string to JSON object
   	        //console.log(responseText);
   	        
   	        var item=this.responseText;
   	    	 if(this.responseText== "row insertion successful")
   	    	 
   	    		
   	    	var table = document.getElementById("myTable");
      	   //  document.getElementById("tablearea").innerhtml = table;
      	        
      	        var row = table.insertRow(-1);
      	        var cell1 = row.insertCell(0);
      	        var cell2 = row.insertCell(1);
      	        var cell3 = row.insertCell(2);
      	        var cell4 = row.insertCell(3);
      	        var cell5 = row.insertCell(4);
      	        
      	      cell1.innerHTML = orderid;
      	        cell2.innerHTML = cid;
      	        cell3.innerHTML=pcode;
      	        cell4.innerHTML=quantity;
      	        cell5.innerHTML=tprice;
   	    	
   	    	
   	        
   	       
   	    	
   	    	
   	    }
   	};
   	 
   	xmlhttp.open("POST", "http://localhost:8080/order/insert");
	xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

	xmlhttp.send(JSON.stringify({
        "orderid": orderid,
        "quantity": quantity,
        "totalprice": tprice,
        "customer": {
            "id": cid,
            "name": " ",
            "phone": " "
        },
        "product": {
            "pcode": pcode,
            "pname": " ",
            "description": " ",
            "price": " "
        }
    }));
	
}
        </script>
        
        </body>
        </html>
        	
        
        
        

            
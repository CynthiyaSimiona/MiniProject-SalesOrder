<!DOCTYPE html>
<html>
<h2>CUSTOMER DATA</h2>
<link rel="stylesheet" href="styles.css">
<body onload="myFunction()">



<script>
function myFunction() {
 
        	debugger;
        	
        
        	 var table = document.createElement("TABLE");
        	  table.setAttribute("id", "myTable");
        	  document.body.appendChild(table);

        	  var header = table.createTHead();
        	  
        	  var row = header.insertRow(0);
        	  row.setAttribute("id","TableHead")
  	        var cell1 = row.insertCell(0);
  	        var cell2 = row.insertCell(1);
  	        var cell3 = row.insertCell(2);
  	        
  	      cell1.innerHTML = "ID";
  	        cell2.innerHTML = "NAME";
  	        cell3.innerHTML="PHONE";
        	 
  	        var xmlhttp = new XMLHttpRequest();
        	 
        	xmlhttp.onreadystatechange = function()
        	{
        	    if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
        	    {
        	        //Use parse() method to convert JSON string to JSON object
        	        //console.log(responseText);
        	        
        	        
        	        var jsonobj = JSON.parse(this.responseText);
        	    	//document.getElementById("allcustomer").innerHTML = this.responseText;
        	    	
        	    	for (let i = 0; i < jsonobj.length; i++) {
        	        const item=jsonobj[i];
        	        var table = document.getElementById("myTable");
        	        
        	        
        	        var row = table.insertRow(-1);
        	        var cell1 = row.insertCell(0);
        	        var cell2 = row.insertCell(1);
        	        var cell3 = row.insertCell(2);
        	        
        	      cell1.innerHTML = item.id;
        	        cell2.innerHTML = item.name;
        	        cell3.innerHTML=item.phone
        	    	}
        	        
        	       // document.getElementById("list").innerhtml = item.id;
        	    	
        	    	
        	    }
        	};
        	 
        	xmlhttp.open("GET", "http://localhost:8080/customer/getall", true);
        	 
        	xmlhttp.send();
        }
    
    
        </script>
        
        </body>
        </html>
        	
        
        
        

            